<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>üéÄ KAWAII MESSENGER üéÄ</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Varela+Round&display=swap" rel="stylesheet">
<style>
  :root {
    --pink: #ff00ff;
    --yellow: #ffff00;
    --cyan: #00ffff;
  }

  body, html {
    margin: 0; padding: 0; width: 100%; height: 100%;
    overflow: hidden; background: #ffdef2;
    font-family: 'Pacifico', cursive;
    touch-action: manipulation; 
  }

  /* –§–û–ù */
  .chaos-bg {
    position: fixed; width: 150vmax; height: 150vmax; top: -25vmax; left: -25vmax;
    background: conic-gradient(from 0deg, #ff0080, #00ffff, #ffff00, #ff0080);
    animation: rotateChaos 15s linear infinite; /* –ß—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ */
    z-index: -5; opacity: 0.3; /* –ú—è–≥—á–µ */
    will-change: transform;
  }
  @keyframes rotateChaos { to { transform: rotate(360deg); } }

  /* –õ–ï–¢–ê–Æ–©–ò–ô –ú–£–°–û–† - –ú–ï–ù–¨–®–ï –ò –†–ï–î–ñ–ï */
  .ambient-item {
    position: fixed; pointer-events: none; z-index: 1;
    animation: floatAround 5s infinite linear;
    will-change: transform;
  }
  @keyframes floatAround {
    0% { transform: translate(0,0) rotate(0deg); }
    100% { transform: translate(40px, 40px) rotate(360deg); }
  }

  /* –†–ê–î–£–ì–ê */
  .rainbow-wrap {
    position: fixed; top: 0; width: 100%; height: 20vh; z-index: 2;
    filter: drop-shadow(0 0 10px #fff);
    animation: rainbowPulse 1s infinite alternate ease-in-out;
  }
  @keyframes rainbowPulse { from { transform: scaleY(1); } to { transform: scaleY(1.05); } }

  .container {
    position: absolute; width: 100%; height: 100%;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 100; padding: 15px; box-sizing: border-box;
  }

  /* –¢–ï–ö–°–¢ –ü–û–î –¢–ï–õ–ï–§–û–ù */
  .message {
    font-size: 28px; /* –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ */
    color: white; text-align: center;
    text-shadow: 2px 2px 0px var(--pink), -1px -1px 0px var(--cyan), 0 0 10px white;
    margin-bottom: 25px;
    line-height: 1.1; /* –ü–ª–æ—Ç–Ω–µ–µ */
    width: 90%;
  }

  .jelly-anchor { perspective: 1000px; width: 75%; display: flex; justify-content: center; }
  
  /* –ö–ù–û–ü–ö–ê –ö–û–ú–ü–ê–ö–¢–ù–ï–ï */
  .jelly-btn {
    width: 100%; max-width: 260px;
    padding: 18px 10px; font-size: 22px; cursor: pointer;
    background: linear-gradient(45deg, var(--pink), var(--yellow));
    border: 5px solid white; border-radius: 30px;
    color: white; box-shadow: 0 10px 0px #b000b0, 0 15px 25px rgba(255,0,255,0.3);
    font-family: 'Pacifico', cursive;
    animation: bounce 1s infinite alternate ease-in-out;
    will-change: transform;
  }
  @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }

  /* –°–ï–†–î–ï–ß–ö–ò –ú–ï–ù–¨–®–ï */
  .heart-block {
    position: absolute; bottom: -250px; z-index: 150;
    pointer-events: none; will-change: transform;
  }

  video {
    display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    object-fit: cover; z-index: 10; border: 8px solid white; box-sizing: border-box;
  }

  /* –¢–ê–ô–ú–ï–† –ü–û–î –¢–ï–õ–ï–§–û–ù */
  #timerDisplay {
    display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    font-size: 50px; /* –ß—Ç–æ–±—ã –≤–ª–µ–∑–∞–ª —Ü–µ–ª–∏–∫–æ–º */
    color: white; z-index: 200;
    background: rgba(255, 0, 255, 0.9); padding: 15px 30px; border-radius: 40px;
    border: 5px solid white; box-shadow: 0 0 40px var(--cyan);
    font-family: 'Varela Round', sans-serif;
    text-align: center;
    width: auto; max-width: 90%;
  }
</style>
</head>
<body>

<div class="chaos-bg"></div>

<div class="rainbow-wrap">
  <svg viewBox="0 0 500 150" preserveAspectRatio="none" style="width: 100%; height: 100%;">
    <path d="M0,150 Q250,-50 500,150" fill="none" stroke="#ff00ff" stroke-width="25" />
    <path d="M0,160 Q250,-30 500,160" fill="none" stroke="#ffff00" stroke-width="25" />
    <path d="M0,170 Q250,-10 500,170" fill="none" stroke="#00ffff" stroke-width="25" />
  </svg>
</div>

<div class="container" id="mainUI">
  <div class="message">üç≠–ü—Ä–∏–≤–µ—Ç—É—à–µ—á–∫–∏, —Å–ª–∞–¥–µ–Ω—å–∫–∏–µüç≠<br>üç≠–¥–ª—è –≤–∞—Å —Å–æ–æ–±—â–µ–Ω–∏–µüç≠</div>
  <div class="jelly-anchor">
    <button class="jelly-btn" onclick="goCrazy()">üåà–ø–æ—Å–ª—É—à–∞—Ç—åüåà</button>
  </div>
</div>

<video id="bunnyVideo" src="grok-video-ee4819c8-a2cf-4d70-9184-f8615639bab7.mp4" playsinline></video>
<div id="timerDisplay">01:00:00</div>

<script>
const video = document.getElementById('bunnyVideo');
const timerDisplay = document.getElementById('timerDisplay');
const mainUI = document.getElementById('mainUI');

// 1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω–æ–≤—ã–π —Ç—Ä–µ—à (–º–µ–Ω—å—à–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
const icons = ['üç≠', 'üíñ', '‚ú®', 'üéÄ', 'üå∏', 'üç©'];
function createAmbient() {
  if (document.querySelectorAll('.ambient-item').length > 8) return; // –õ–∏–º–∏—Ç –∂–µ—Å—Ç—á–µ
  const el = document.createElement('div');
  el.className = 'ambient-item';
  el.innerText = icons[Math.floor(Math.random()*icons.length)];
  el.style.left = Math.random() * 90 + 'vw';
  el.style.top = Math.random() * 90 + 'vh';
  el.style.fontSize = (18 + Math.random()*25) + 'px'; // –≠–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—å—à–µ
  document.body.appendChild(el);
  setTimeout(() => el.remove(), 4000);
}
setInterval(createAmbient, 400); // –†–µ–∂–µ —Å–ø–∞–≤–Ω

// 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–µ–ª–µ-–∫–Ω–æ–ø–∫–æ–π (–∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä)
window.addEventListener('deviceorientation', (e) => {
  const btn = document.querySelector('.jelly-btn');
  if(btn && e.beta) {
    const x = Math.min(Math.max(e.gamma, -12), 12);
    const y = Math.min(Math.max(e.beta - 45, -12), 12);
    btn.style.transform = `rotateX(${-y}deg) rotateY(${x}deg)`;
  }
});

function goCrazy() {
  mainUI.style.display = 'none';
  
  setTimeout(() => {
    video.style.display = 'block';
    video.play().catch(() => {});
  }, 1800);

  // –°–¢–ï–ù–ê –°–ï–†–î–ï–¶ (–í –ü–û–õ–û–í–ò–ù–£ –ú–ï–ù–¨–®–ï –ò –°–ê–ú–ò –ú–ï–ù–¨–®–ï)
  const heartCount = 1750; // –ë—ã–ª–æ 3500
  const spawnTime = 2000;
  const hSvg = '<svg viewBox="0 0 24 24" width="100%" height="100%"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>';

  for (let i = 0; i < heartCount; i++) {
    setTimeout(() => {
      const h = document.createElement('div');
      h.className = 'heart-block';
      // –î–∏–∞–ø–∞–∑–æ–Ω —Ä–∞–∑–º–µ—Ä–æ–≤ —É–º–µ–Ω—å—à–µ–Ω (–æ—Ç 80 –¥–æ 200px)
      const size = 80 + Math.random() * 120;
      h.style.width = size + 'px';
      h.style.height = size + 'px';
      h.innerHTML = hSvg;
      h.querySelector('path').setAttribute('fill', `hsl(${Math.random()*360}, 100%, 75%)`);
      h.style.left = (Math.random() * 110 - 5) + 'vw'; // –ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ —Å–ø–∞–≤–Ω –ø–æ —à–∏—Ä–∏–Ω–µ
      document.body.appendChild(h);

      const speed = 2 + Math.random() * 2;
      const start = performance.now();
      function step(now) {
        const t = (now - start) / 1000 * speed;
        const y = -t * window.innerHeight * 1.6;
        h.style.transform = `translateY(${y}px) rotate(${t*30}deg)`;
        if (y < -window.innerHeight - 300) h.remove();
        else requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }, (i / heartCount) * spawnTime);
  }
}

video.onended = () => {
  video.style.display = 'none';
  timerDisplay.style.display = 'block';
  startFinalCountdown();
};

function startFinalCountdown() {
  let totalSeconds = 3600;
  let elapsed = 0;

  const interval = setInterval(() => {
    totalSeconds--;
    elapsed++;

    const h = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
    const m = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
    const s = (totalSeconds % 60).toString().padStart(2, '0');
    timerDisplay.innerText = `${h}:${m}:${s}`;

    if (elapsed === 7) {
      clearInterval(interval);
      window.close();
      timerDisplay.innerText = "K-BYE! ‚ú®";
    }
  }, 1000);

  // –§–∏–Ω–∞–ª—å–Ω—ã–π –≤–∑—Ä—ã–≤ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ)
  for(let i=0; i<25; i++) {
    const c = document.createElement('div');
    c.innerText = 'üå∏';
    c.style.cssText = `position:fixed; left:${Math.random()*100}vw; top:${Math.random()*100}vh; font-size:30px; z-index:300; pointer-events:none;`;
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 1500);
  }
}
</script>

</body>
</html>
