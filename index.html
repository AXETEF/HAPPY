<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>üéÄ MEGA KAWAII CHAOS üéÄ</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Varela+Round&display=swap" rel="stylesheet">
<style>
  :root {
    --pink: #ff00ff;
    --yellow: #ffff00;
    --cyan: #00ffff;
  }

  body, html {
    margin: 0; padding: 0; width: 100%; height: 100%;
    overflow: hidden; background: #ffdef2;
    font-family: 'Pacifico', cursive;
    /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö */
    touch-action: manipulation; 
  }

  /* –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –ì–ò–ü–ù–û-–§–û–ù */
  .chaos-bg {
    position: fixed; width: 150vmax; height: 150vmax; top: -25vmax; left: -25vmax;
    background: conic-gradient(from 0deg, #ff0080, #00ffff, #ffff00, #ff0080);
    animation: rotateChaos 10s linear infinite;
    z-index: -5; opacity: 0.4;
    will-change: transform;
  }
  @keyframes rotateChaos { to { transform: rotate(360deg); } }

  .ambient-item {
    position: fixed; pointer-events: none; z-index: 1;
    animation: floatAround 4s infinite linear;
    will-change: transform;
  }
  @keyframes floatAround {
    0% { transform: translate(0,0) rotate(0deg) scale(1); }
    50% { transform: translate(50px, -50px) rotate(180deg) scale(1.3); }
    100% { transform: translate(-20px, 20px) rotate(360deg) scale(1); }
  }

  .rainbow-wrap {
    position: fixed; top: 0; width: 100%; height: 25vh; z-index: 2;
    filter: drop-shadow(0 0 15px #fff);
    animation: rainbowShake 0.6s infinite ease-in-out;
  }
  @keyframes rainbowShake { 0%, 100% { transform: scaleY(1); } 50% { transform: scaleY(1.1); } }

  .container {
    position: absolute; width: 100%; height: 100%;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 100; padding: 20px; box-sizing: border-box;
  }

  .message {
    font-size: clamp(24px, 7vw, 42px); /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
    color: white; text-align: center;
    text-shadow: 3px 3px 0px var(--pink), -2px -2px 0px var(--cyan), 0 0 15px white;
    animation: glitch 0.3s infinite;
    margin-bottom: 30px;
    line-height: 1.2;
  }
  @keyframes glitch {
    0% { transform: skew(0deg); }
    50% { transform: skew(2deg) translate(2px, 1px); }
    100% { transform: skew(-1deg); }
  }

  .jelly-anchor { perspective: 1000px; width: 80%; display: flex; justify-content: center; }
  .jelly-btn {
    width: 100%; max-width: 300px;
    padding: 25px 10px; font-size: 28px; cursor: pointer;
    background: linear-gradient(45deg, var(--pink), var(--yellow));
    border: 6px solid white; border-radius: 40px;
    color: white; box-shadow: 0 12px 0px #b000b0, 0 20px 30px rgba(255,0,255,0.4);
    font-family: 'Pacifico', cursive;
    animation: bounce 0.8s infinite alternate ease-in-out;
    will-change: transform;
  }
  @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-15px); } }

  .heart-block {
    position: absolute; bottom: -350px; z-index: 150;
    pointer-events: none; will-change: transform;
  }

  video {
    display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    object-fit: cover; z-index: 10; border: 10px solid white;
  }

  #timerDisplay {
    display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    font-size: clamp(40px, 15vw, 80px); 
    color: white; z-index: 200;
    background: rgba(255, 0, 255, 0.9); padding: 20px 40px; border-radius: 50px;
    border: 6px solid white; box-shadow: 0 0 50px var(--cyan);
    font-family: 'Varela Round', sans-serif;
    text-align: center;
    width: 80%;
  }
</style>
</head>
<body>

<div class="chaos-bg"></div>

<div class="rainbow-wrap">
  <svg viewBox="0 0 500 150" preserveAspectRatio="none" style="width: 100%; height: 100%;">
    <path d="M0,150 Q250,-50 500,150" fill="none" stroke="#ff00ff" stroke-width="25" />
    <path d="M0,160 Q250,-30 500,160" fill="none" stroke="#ffff00" stroke-width="25" />
    <path d="M0,170 Q250,-10 500,170" fill="none" stroke="#00ffff" stroke-width="25" />
  </svg>
</div>

<div class="container" id="mainUI">
  <div class="message">üç≠–ü—Ä–∏–≤–µ—Ç—É—à–µ—á–∫–∏, —Å–ª–∞–¥–µ–Ω—å–∫–∏–µüç≠<br>üç≠–¥–ª—è –≤–∞—Å —Å–æ–æ–±—â–µ–Ω–∏–µüç≠</div>
  <div class="jelly-anchor">
    <button class="jelly-btn" onclick="goCrazy()">üåà–ø–æ—Å–ª—É—à–∞—Ç—åüåà</button>
  </div>
</div>

<video id="bunnyVideo" src="grok-video-ee4819c8-a2cf-4d70-9184-f8615639bab7.mp4" playsinline></video>
<div id="timerDisplay">01:00:00</div>

<script>
const video = document.getElementById('bunnyVideo');
const timerDisplay = document.getElementById('timerDisplay');
const mainUI = document.getElementById('mainUI');

// 1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω–æ–≤—ã–π —Ç—Ä–µ—à
const icons = ['üç≠', 'üíñ', '‚ú®', 'üéÄ', 'üå∏', 'üç©', 'üåü', 'üßÅ'];
function createAmbient() {
  if (document.querySelectorAll('.ambient-item').length > 15) return; // –õ–∏–º–∏—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  const el = document.createElement('div');
  el.className = 'ambient-item';
  el.innerText = icons[Math.floor(Math.random()*icons.length)];
  el.style.left = Math.random() * 90 + 'vw';
  el.style.top = Math.random() * 90 + 'vh';
  el.style.fontSize = (25 + Math.random()*35) + 'px';
  document.body.appendChild(el);
  setTimeout(() => el.remove(), 4000);
}
setInterval(createAmbient, 250);

// 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–µ–ª–µ-–∫–Ω–æ–ø–∫–æ–π (–∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä)
if (typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {
    // –î–ª—è iOS –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –Ω–æ –º—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è Android/—Å—Ç–∞—Ä—ã—Ö iOS
}
window.addEventListener('deviceorientation', (e) => {
  const btn = document.querySelector('.jelly-btn');
  if(btn && e.beta) {
    const x = Math.min(Math.max(e.gamma, -15), 15);
    const y = Math.min(Math.max(e.beta - 45, -15), 15);
    btn.style.transform = `rotateX(${-y}deg) rotateY(${x}deg)`;
  }
});

function goCrazy() {
  mainUI.style.display = 'none';
  
  setTimeout(() => {
    video.style.display = 'block';
    video.play().catch(e => {
        // –ù–∞ —Å–ª—É—á–∞–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–≤—Ç–æ–ø–ª–µ—è
        video.muted = false;
        video.play();
    });
  }, 1800);

  // –°–¢–ï–ù–ê –°–ï–†–î–ï–¶ (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–∏–∫–ª)
  const heartCount = 3500; // –ù–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏, –Ω–æ –∑–∞ —Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å—ë
  const spawnTime = 2000;
  const hSvg = '<svg viewBox="0 0 24 24" width="100%" height="100%"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>';

  for (let i = 0; i < heartCount; i++) {
    setTimeout(() => {
      const h = document.createElement('div');
      h.className = 'heart-block';
      const size = 180 + Math.random() * 150;
      h.style.width = size + 'px';
      h.style.height = size + 'px';
      h.innerHTML = hSvg;
      h.querySelector('path').setAttribute('fill', `hsl(${Math.random()*360}, 100%, 75%)`);
      h.style.left = (Math.random() * 120 - 20) + 'vw';
      document.body.appendChild(h);

      const speed = 2 + Math.random() * 2.5;
      const start = performance.now();
      function step(now) {
        const t = (now - start) / 1000 * speed;
        const y = -t * window.innerHeight * 1.6;
        h.style.transform = `translateY(${y}px) rotate(${t*40}deg)`;
        if (y < -window.innerHeight - 400) h.remove();
        else requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }, (i / heartCount) * spawnTime);
  }
}

video.onended = () => {
  video.style.display = 'none';
  timerDisplay.style.display = 'block';
  startFinalCountdown();
};

function startFinalCountdown() {
  let totalSeconds = 3600;
  let elapsed = 0;

  const interval = setInterval(() => {
    totalSeconds--;
    elapsed++;

    const h = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
    const m = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
    const s = (totalSeconds % 60).toString().padStart(2, '0');
    timerDisplay.innerText = `${h}:${m}:${s}`;

    if (elapsed === 7) {
      clearInterval(interval);
      window.close();
      timerDisplay.innerText = "K-BYE! ‚ú®";
    }
  }, 1000);

  // –§–∏–Ω–∞–ª—å–Ω—ã–π –≤–∑—Ä—ã–≤ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –¥–ª—è –º–æ–±–∏–ª–æ–∫)
  for(let i=0; i<40; i++) {
    const c = document.createElement('div');
    c.innerText = 'üå∏';
    c.style.cssText = `position:fixed; left:${Math.random()*100}vw; top:${Math.random()*100}vh; font-size:40px; z-index:300; pointer-events:none;`;
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 2000);
  }
}
</script>

</body>
</html>
